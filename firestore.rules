
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Deny all reads and writes by default
    match /{document=**} {
      allow read, write: if false;
    }

    // Allow anyone to submit new feedback.
    // This allows the public feedback form to work without user authentication.
    match /feedback/{feedbackId} {
      allow create: if true;
    }

    // Allow anyone to read the feedback collection.
    // This allows the live ticker to display open feedback to all users.
    match /feedback/{feedbackId} {
      allow read: if true;
    }

    // Allow anyone to read the application configuration data.
    // This allows the estimator to fetch parts, prices, and vehicle data.
    match /config/app_data {
        allow read: if true;
    }
  }
}
